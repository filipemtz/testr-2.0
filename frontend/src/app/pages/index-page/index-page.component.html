<div class="course-title">Courses</div>
<main>
	<div *ngIf="courses.length > 0; else noCourses" class="courses">
		<button class="course-link btn" (click)="openDeleteModal(courses, deleteModal)"><mat-icon>add</mat-icon>New Question</button>
		<div *ngFor="let course of courses" class="course-item">
			<a [routerLink]="['/course', course.id]" class="course-link">{{ course.name }}</a>
			<button class="fa-solid fa-pencil btn text-danger" aria-hidden="true" (click)="openEditModal(course, editModal)"></button>
			<button class="fa-solid fa-close btn text-danger" aria-hidden="true" (click)="openDeleteModal(course, deleteModal)"></button>
		</div>
	</div>
</main>

<ng-template #noCourses>
	<p class="no-course-message">No courses are available.</p>
</ng-template>

<ng-template #editModal let-modal>
	<div class="modal-header">
	  <h4 class="modal-title" id="modal-basic-title">Editar curso</h4>
	  <button type="button" class="btn-close" aria-label="Fechar" (click)="modal.dismiss('Cross click')"></button>
	</div>
	<div class="modal-body">
	  <form [formGroup]="editForm">
		<div class="mb-3">
		  <label for="name">Name</label>
		  <input id="name" type="text" class="form-control" formControlName="name">
		  <div *ngIf="editForm.get('name')?.invalid && (editForm.get('name')?.dirty || editForm.get('name')?.touched)" class="text-danger">
			Nome do curso é obrigatório.
		  </div>
		</div>
	  </form>
	</div>
	<div class="modal-footer">
	  <button type="button" class="btn btn-outline-dark" (click)="modal.dismiss()">Cancelar</button>
	  <button type="button" class="btn btn-primary" (click)="confirmSave()">Salvar</button>
	</div>
</ng-template>

<ng-template #deleteModal let-modal>
	<div class="modal-header">
	  <h4 class="modal-title" id="modal-basic-title">Deletar curso</h4>
	  <button type="button" class="btn-close" aria-label="Fechar" (click)="modal.dismiss('Cross click')"></button>
	</div>
	<div class="modal-body">
	  Tem certeza que deseja deletar o curso?
	</div>
	<div class="modal-footer">
	  <button type="button" class="btn btn-outline-dark" (click)="modal.dismiss()">Cancelar</button>
	  <button type="button" class="btn btn-danger" (click)="confirmDelete()">Deletar</button>
	</div>
  </ng-template>