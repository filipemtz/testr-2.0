<div class="course-name">
    {{ course.name }}
</div>

<main>
    <div class="back-link"><a [routerLink]="['/']">Back</a></div>
    <div *ngIf="sections.length > 0; else noSections">
        <div *ngFor="let section of sections">
            <div *ngIf="section.course == course.url" >
                <div class="section-item">
                    {{ section.name }} 
                </div>
                <div *ngFor="let question of questions">
                    <div *ngIf="question.section == section.url;">
                        <div class="questions">
                            <a [routerLink]="['/question', question.id]" class="question-link">{{ idx }}. {{ question.name }} </a>
                            <button [routerLink]="['/question/edit', question.id]" class="fa-solid fa-pencil btn text-primary" aria-hidden="true"></button>
                            <button class="fa-solid fa-close btn text-danger" aria-hidden="true" (click)="openDeleteModal(question, deleteModal)"></button>
                            {{ inc_idx() }}
                        </div>
                    </div>
                </div>
                {{ inc_cont() }}
            </div>
            {{ reset_idx() }}
        </div>
        <div *ngIf="cont > 0; else noSections">

        </div>
        {{ reset_cont() }}
    </div>
</main>

<ng-template #noSections>
    <p class="no-sections-message">No sections are available.</p>
</ng-template>

<ng-template #deleteModal let-modal>
	<div class="modal-header">
	  <h4 class="modal-title" id="modal-basic-title">Deletar seção</h4>
	  <button type="button" class="btn-close" aria-label="Fechar" (click)="modal.dismiss('Cross click')"></button>
	</div>
	<div class="modal-body">
	  Tem certeza que deseja deletar a seção?
	</div>
	<div class="modal-footer">
	  <button type="button" class="btn btn-outline-dark" (click)="modal.dismiss()">Cancelar</button>
	  <button type="button" class="btn btn-danger" (click)="confirmDelete()">Deletar</button>
	</div>
  </ng-template>